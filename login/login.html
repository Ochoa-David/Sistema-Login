<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src *; connect-src *;">
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Roboto&display=swap" rel="stylesheet">
    <title>Sistema de Autenticación</title>
    <link rel="stylesheet" href="login.css">
</head>
<body>
    <div class="container">
        <div class="main-container">
             <!-- gif izquierdo -->
        <img src="pretty/NPC_oneiro.gif" class="side-gif" alt="Decoración">

        <!-- Formulario de inicio de sesión -->
        <div class="login-box">
            <div class="form-container" id="login-form">
                <h2>Iniciar Sesión</h2>
                <form id="form-login">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Contraseña</label>
                        <input type="password" id="login-password" required>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Entrar a la Pesadilla</button>
                    </div>
                    <div class="form-links">
                        <a href="#" id="forgot-password-link">¿Olvidaste tu contraseña?</a>
                        <a href="#" id="register-link">Crear nueva cuenta</a>
                    </div>
                </form>
            </div>
        </div>
        <!-- gif derecho -->
        <img src="pretty/NPC_oneiro.gif" class="side-gif" alt="Decoración">
        </div>

        <!-- Formulario de Registro -->
        <div class="form-container hidden" id="register-form">
            <h2>Crear Cuenta</h2>
            <form id="form-register">
                <div class="form-group">
                    <label for="register-username">Nombre de usuario</label>
                    <input type="text" id="register-username" required>
                </div>
                <div class="form-group">
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" required>
                </div>
                <div class="form-group">
                    <label for="register-password">Contraseña</label>
                    <input type="password" id="register-password" required>
                </div>
                <div class="form-group">
                    <label for="register-password-confirm">Confirmar Contraseña</label>
                    <input type="password" id="register-password-confirm" required>
                </div>
                <div class="form-group">
                    <label for="register-securityQuestion">Pregunta de Seguridad</label>
                    <select id="register-securityQuestion" name="securityQuestion" required>
                        <option value="">Seleccione una pregunta...</option>
                        <option value="color_favorito">¿Cuál es tu color favorito?</option>
                        <option value="nombre_mascota">¿Cómo se llama tu primera mascota?</option>
                        <option value="ciudad_nacimiento">¿En qué ciudad naciste?</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="register-securityAnswer">Respuesta</label>
                    <input type="text" id="register-securityAnswer" name="securityAnswer" required>
                </div>                
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Registrar</button>
                </div>
                <div class="form-links">
                    <a href="#" id="login-link">Ya tengo una cuenta</a>
                </div>
            </form>
        </div>

        <!-- Formulario de Recuperación de Contraseña -->
        <div class="form-container hidden" id="forgot-form">
            <h2>Recuperar Contraseña</h2>
            <form id="form-forgot">
                <div class="form-group">
                    <label for="forgot-email">Email</label>
                    <input type="email" id="forgot-email" required>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Solicitar Recuperación</button>
                </div>
                <div class="form-links">
                    <a href="#" class="login-link">Iniciar sesión</a>
                </div>
            </form>
        </div>

        <!-- Formulario de Recuperación de Contraseña (validación) -->
        <div class="form-container hidden" id="recovery_password-form">
            <h2>Recuperar</h2>
            <form id="form-recovery_password">
                <div class="form-group">
                    <label for="recovery-username">Nombre de usuario</label>
                    <input type="text" id="recovery-username" required>
                </div>
                <div class="form-group">
                    <label for="recovery-email">Email</label>
                    <input type="email" id="recovery-email" required>
                </div>
                <div class="form-group">
                    <label for="recovery-securityQuestion">Con que pregunta validó?</label>
                    <select id="recovery-securityQuestion" name="securityQuestion" required>
                        <option value="">Seleccione una pregunta...</option>
                        <option value="color_favorito">¿Cuál es tu color favorito?</option>
                        <option value="nombre_mascota">¿Cómo se llama tu primera mascota?</option>
                        <option value="ciudad_nacimiento">¿En qué ciudad naciste?</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="recovery-securityAnswer">Respuesta</label>
                    <input type="text" id="recovery-securityAnswer" name="securityAnswer" required>
                </div>                
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Comprobar</button>
                </div>
                <div class="form-links">
                    <a href="#" class="login-link">Iniciar sesión</a>
                </div>
            </form>
        </div>

        <!-- Formulario para cambiar la contraseña -->
        <div class="form-container hidden" id="com_password-form">
            <h2>Actualizar Contraseña</h2>
            <form id="form-change-password">
                <div class="form-group">
                    <label for="new-password">Nueva contraseña</label>
                    <input type="password" id="new-password" required>
                </div>
                <div class="form-group">
                    <label for="confirm-password">Confirmar contraseña</label>
                    <input type="password" id="confirm-password" required>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Cambiar contraseña</button>
                </div>
            </form>
        </div>

        <!-- Pantalla de éxito -->
        <div class="form-container hidden" id="success-screen">
            <div class="success-screen">
                <h2 class="success-title">¡AUTENTICACIÓN EXITOSA!</h2>
                <p class="success-subtitle">Ya puedes iniciar el juego.</p>
                
                <button class="start-game-btn" id="start-game-btn">
                    Iniciar Juego
                </button>
                <div class="token-info">
                    <p>Tu token de autenticación:</p>
                    <div class="token-container">
                        <div class="token-display" id="token-display">
                            <!--token-->
                        </div>
                        <button class="copy-btn" id="copy-btn">Copiar</button>
                    </div>
                    <div class="copy-feedback" id="copy-feedback"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="login.js"></script>
</body>
</html>